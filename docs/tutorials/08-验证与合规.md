# 文章 8 — 验证与合规

学习目标：构建从功能到安全再到性能的验证方案，完成标准化的合规工作。

## 8.1 PICS 与合规筹备

- PICS（Protocol Implementation Conformance Statement）：逐项核对实现是否满足规范的“shall/should/may”。
- 范围：SecY（控制/非控制端口、收发、管理）、Cipher Suite 能力、性能边界、事件与计数器、EDE 变体（如适用）。
- 输出物：PICS 表单、设备能力列表、固件/软件版本与配置基线。

## 8.2 功能/安全测试用例库

- 认证场景：成功/失败、授权变化、成员移除与加入、并发重入。
- 收发路径：长度边界、SL 编码、机密性偏移、包含/省略 SCI、组播/广播。
- 重放保护：窗口边界、乱序、重复帧、旧 PN、突发流量与 LAG 场景。
- 重键流程：时间要求（1s 准备+1 帧切换）、密钥并存、异常中断与恢复策略。
- 故障注入：错误密钥、套件不一致、MTU 过小、链路抖动、设备重启。

## 8.3 性能与容量

- 吞吐与延迟：不同帧长/优先级/偏移/套件组合下的测量；关注硬件加速差异。
- 资源基线：CPU/ASIC 利用率与温度/功耗；重键时的瞬时影响与恢复时间。
- 可扩展性：CA 规模、SC/SA 数量上限与收敛时间。

## 8.4 测试向量与互通

- 使用公开测试向量（明文、密钥、PN/SCI、期望 ICV）校验 PROTECT/VALIDATE 正确性。
- 跨厂商互通：不同设备建立 CA，覆盖点到点/共享媒体、VLAN/LAG、XPN/非 XPN 组合。
- 自动化：将关键用例脚本化，纳入持续集成或例行回归套件。

## 8.5 验证交付与审计

- 报告结构：用例清单、结果与度量、缺陷与规避、改进计划。
- 审计要点：PICS 一致性、日志与事件、变更记录、密钥管理流程。

通过系统化验证与合规管理，你可以把“能跑”升级为“可证明地正确且稳定”。

